import discord
import subprocess

token = 'YOUR DISCORD BOT TOKEN'

intents = discord.Intents.default()
intents.message_content = True

client = discord.Client(intents=intents)

@client.event
async def on_ready():
    print(f'We have logged in as {client.user}')

@client.event
async def on_message(message):
    if message.author == client.user:
        return

    if message.content.startswith('$hello'):
        await message.channel.send('Hello!')
    
    # Check for your custom command
    if message.content.startswith('$execute'):
        # Extract the command and its arguments
        command = message.content[len('$execute'):].strip()
        
        # Execute the command (replace this with your desired logic)
        output = execute_command(command)
        
        # Send the output back to the channel
        await message.channel.send(output)

def execute_command(command):
    try:
        # Execute the command and capture the output
        result = subprocess.run(command, shell=True, capture_output=True, text=True)
        output = result.stdout  # Get the standard output
        
        # If there was an error, capture the error output
        if result.returncode != 0:
            output = result.stderr  # Get the error output
        return f"Command '{command}' executed. Output:\n{output}"
    except Exception as e:
        return f"Error executing command '{command}': {str(e)}"

client.run(token)
